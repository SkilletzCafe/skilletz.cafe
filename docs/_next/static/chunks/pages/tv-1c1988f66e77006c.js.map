{"version":3,"file":"static/chunks/pages/tv-1c1988f66e77006c.js","mappings":"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","sources":["webpack://_N_E/./src/utils/menu.ts","webpack://_N_E/./src/components/TVBase.tsx","webpack://_N_E/","webpack://_N_E/./src/pages/tv.tsx","webpack://_N_E/./src/styles/TVBase.module.css"],"sourcesContent":["import { MenuData } from '@/types/menu';\n\n// Image loader for external images\nexport const imageLoader = ({ src }: { src: string }) => {\n  return src;\n};\n\n// Get all menu items that have images for TV display\n// This function extracts all menu items from all menus that have associated images\nexport const getFeaturedItems = (\n  menuData: MenuData,\n  options?: {\n    excludeGroups?: string[]; // Exclude menu groups with these names\n  }\n) => {\n  const { excludeGroups = [] } = options || {};\n\n  return menuData.menus.flatMap((menu) =>\n    menu.groups\n      .filter((group) => !excludeGroups.includes(group.name))\n      .flatMap(\n        (group) => group.items.filter((item) => item.imageUrl)\n        // TODO: Add filtering logic for featured items based on business requirements\n        // Previous logic: (item.isPopular || Math.random() < 0.3)\n        // Consider: item.isFeatured, item.isPopular, or manual curation\n      )\n  );\n};\n\n// Filter menus with optional inclusion/exclusion parameters\nexport const getMainMenus = (\n  menuData: MenuData,\n  options?: {\n    only?: string[]; // Only include menus with these names\n    exclude?: string[]; // Exclude menus with these names\n  }\n) => {\n  const { only, exclude = ['Other'] } = options || {};\n\n  return menuData.menus.filter((menu) => {\n    // If 'only' is specified, only include those menus\n    if (only) {\n      return only.includes(menu.name);\n    }\n\n    // Otherwise, exclude the specified menu names\n    return !exclude.includes(menu.name);\n  });\n};\n","import { useCallback, useEffect, useState } from 'react';\n\nimport Image from 'next/image';\n\nimport { MenuItem } from '@/types/menu';\nimport { shuffleArray } from '@hacktoolkit/nextjs-htk/utils';\n\nimport { margarine } from '@/config/fonts';\n\nimport { imageLoader } from '@/utils/menu';\n\nimport baseStyles from '@/styles/TVBase.module.css';\n\ninterface TVBaseProps {\n  items: MenuItem[];\n  logoPath: string;\n  logoAlt: string;\n  logoWidth?: number;\n  logoHeight?: number;\n  minDelayMillis?: number;\n  maxDelayMillis?: number;\n  defaultDelayMillis?: number;\n}\n\nconst MIN_DELAY_MILLIS = 3000; // 3 seconds minimum\nconst MAX_DELAY_MILLIS = 30000; // 30 seconds maximum\nconst DELAY_STEP_MILLIS = 1000; // 1 second increments\nconst DEFAULT_DELAY_MILLIS = 5000; // 5 seconds default\n\nexport const TVBase = ({\n  items,\n  logoPath,\n  logoAlt,\n  logoWidth = 240,\n  logoHeight = 70,\n  minDelayMillis = MIN_DELAY_MILLIS,\n  maxDelayMillis = MAX_DELAY_MILLIS,\n  defaultDelayMillis = DEFAULT_DELAY_MILLIS,\n}: TVBaseProps) => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const [transitionDelay, setTransitionDelay] = useState(defaultDelayMillis);\n  const [shuffledItems, setShuffledItems] = useState<MenuItem[]>([]);\n\n  // Shuffle items on mount\n  useEffect(() => {\n    setShuffledItems(shuffleArray(items));\n  }, [items]);\n\n  const goToNext = useCallback(() => {\n    setIsTransitioning(true);\n    setTimeout(() => {\n      setCurrentIndex((current) => (current + 1) % shuffledItems.length);\n      setIsTransitioning(false);\n    }, 1000); // Match this with CSS transition duration\n  }, [shuffledItems.length]);\n\n  const goToPrevious = useCallback(() => {\n    setIsTransitioning(true);\n    setTimeout(() => {\n      setCurrentIndex((current) => (current - 1 + shuffledItems.length) % shuffledItems.length);\n      setIsTransitioning(false);\n    }, 1000);\n  }, [shuffledItems.length]);\n\n  const adjustDelay = useCallback(\n    (amount: number) => {\n      setTransitionDelay((current) => {\n        const newDelay = current + amount;\n        return Math.min(Math.max(newDelay, minDelayMillis), maxDelayMillis);\n      });\n    },\n    [minDelayMillis, maxDelayMillis]\n  );\n\n  // Handle keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'ArrowRight':\n          goToNext();\n          break;\n        case 'ArrowLeft':\n          goToPrevious();\n          break;\n        case '+':\n        case '=': // Also support = key since it's the same key as + without shift\n          adjustDelay(DELAY_STEP_MILLIS);\n          break;\n        case '-':\n        case '_': // Also support _ key since it's the same key as - without shift\n          adjustDelay(-DELAY_STEP_MILLIS);\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [goToNext, goToPrevious, adjustDelay]);\n\n  // Auto-advance slides\n  useEffect(() => {\n    const timer = setInterval(goToNext, transitionDelay);\n    return () => clearInterval(timer);\n  }, [transitionDelay, goToNext]);\n\n  // Prevent screen saver and display sleep\n  useEffect(() => {\n    const preventSleep = async () => {\n      try {\n        // @ts-ignore - TypeScript doesn't know about wake lock API yet\n        const wakeLock = await navigator.wakeLock.request('screen');\n        return () => wakeLock.release();\n      } catch (err) {\n        console.log('Wake Lock not supported or failed:', err);\n      }\n    };\n\n    preventSleep();\n  }, []);\n\n  // Reload page every 30 minutes to get fresh content\n  useEffect(() => {\n    const RELOAD_INTERVAL_MILLIS = 30 * 60 * 1000; // 30 minutes\n    const reloadTimer = setInterval(() => {\n      window.location.reload();\n    }, RELOAD_INTERVAL_MILLIS);\n\n    return () => clearInterval(reloadTimer);\n  }, []);\n\n  const currentItem = shuffledItems[currentIndex];\n\n  if (!currentItem) return null;\n\n  return (\n    <div className={`${baseStyles.tvContainer} ${baseStyles.hideCursor}`}>\n      {/* Static logo in top right - outside slide container to prevent flickering */}\n      <div className={baseStyles.logo}>\n        <Image\n          src={logoPath}\n          alt={logoAlt}\n          width={logoWidth}\n          height={logoHeight}\n          style={{ objectFit: 'contain' }}\n          loader={imageLoader}\n          unoptimized\n        />\n      </div>\n\n      {/* Slide container with content */}\n      <div\n        className={`${baseStyles.slide} ${isTransitioning ? baseStyles.transitioning : ''}`}\n        key={currentItem.guid}\n      >\n        {currentItem.imageUrl && (\n          <div className={baseStyles.imageContainer}>\n            <Image\n              src={currentItem.imageUrl}\n              alt={currentItem.name}\n              fill\n              style={{ objectFit: 'cover' }}\n              quality={100}\n              priority\n              loader={imageLoader}\n              unoptimized\n            />\n            <div className={baseStyles.overlay} />\n          </div>\n        )}\n        <div className={baseStyles.content}>\n          <h1 className={`${baseStyles.title} ${margarine.className}`}>{currentItem.name}</h1>\n          {currentItem.description && (\n            <p className={baseStyles.description}>{currentItem.description}</p>\n          )}\n          <p className={baseStyles.price}>${currentItem.price.toFixed(2)}</p>\n          <p className={baseStyles.delay}>Transition delay: {transitionDelay / 1000}s</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/tv\",\n      function () {\n        return require(\"private-next-pages/tv.tsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/tv\"])\n      });\n    }\n  ","import { GetStaticProps } from 'next';\nimport Head from 'next/head';\n\nimport { MenuItem } from '@/types/menu';\n\nimport { TVBase } from '@/components/TVBase';\n\nimport { getFeaturedItems, getMainMenus } from '@/utils/menu';\nimport { loadMenuData } from '@/utils/menu_static';\n\ninterface TVPageProps {\n  featuredItems: MenuItem[];\n}\n\nexport default function TV({ featuredItems }: TVPageProps) {\n  return (\n    <>\n      <Head>\n        <title>Skillet&apos;z Cafe TV Display | Featured Menu Items</title>\n      </Head>\n      <TVBase\n        items={featuredItems}\n        logoPath=\"/images/logos/skilletz_logo_dark_mode_blue_flame_transparent.png\"\n        logoAlt=\"Skilletz Logo\"\n        logoWidth={240}\n        logoHeight={70}\n      />\n    </>\n  );\n}\n\nexport const getStaticProps: GetStaticProps<TVPageProps> = async () => {\n  const menuData = loadMenuData();\n\n  // Get all menus except Tea-Rek'z for the main TV display\n  const filteredMenus = getMainMenus(menuData, {\n    exclude: ['Other', \"Tea-Rek'z ðŸ§‹ðŸ¦–\"],\n  });\n\n  // Create a temporary menuData object with filtered menus for getFeaturedItems\n  const filteredMenuData = { ...menuData, menus: filteredMenus };\n  const featuredItems = getFeaturedItems(filteredMenuData);\n\n  return {\n    props: {\n      featuredItems,\n    },\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tvContainer\":\"TVBase_tvContainer__WIoOd\",\"slide\":\"TVBase_slide__597ld\",\"transitioning\":\"TVBase_transitioning__sEEWo\",\"content\":\"TVBase_content__PMRYv\",\"delay\":\"TVBase_delay__sD94Q\",\"hideCursor\":\"TVBase_hideCursor__issoD\",\"logo\":\"TVBase_logo__3_6gp\",\"imageContainer\":\"TVBase_imageContainer__O5Vsl\",\"overlay\":\"TVBase_overlay__sRbXp\",\"title\":\"TVBase_title__eTHRx\",\"description\":\"TVBase_description__iHKUX\",\"price\":\"TVBase_price__4XCMm\"};"],"names":["imageLoader","src","TVBase","items","logoPath","logoAlt","logoWidth","logoHeight","minDelayMillis","MIN_DELAY_MILLIS","maxDelayMillis","MAX_DELAY_MILLIS","defaultDelayMillis","currentIndex","setCurrentIndex","useState","DEFAULT_DELAY_MILLIS","isTransitioning","setIsTransitioning","transitionDelay","setTransitionDelay","shuffledItems","setShuffledItems","useEffect","shuffleArray","goToNext","useCallback","setTimeout","current","length","goToPrevious","adjustDelay","Math","min","max","newDelay","amount","handleKeyDown","e","key","DELAY_STEP_MILLIS","window","addEventListener","removeEventListener","timer","setInterval","clearInterval","preventSleep","wakeLock","navigator","request","release","err","console","log","reloadTimer","location","reload","RELOAD_INTERVAL_MILLIS","currentItem","div","className","baseStyles","Image","alt","width","height","style","objectFit","loader","unoptimized","imageUrl","name","fill","quality","priority","h1","margarine","description","p","price","toFixed","guid","TV","featuredItems","Head","title"],"sourceRoot":"","ignoreList":[]}